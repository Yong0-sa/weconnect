spring.config.import=optional:file:.env[.properties]

server.port=8080
spring.application.name=eum-backend

management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# backend/application.properties
# ai.server.url=http://localhost:8000
ai.server.url=http://10.171.4.7:8000

# AI 작물 진단 서버 URL (predict 엔드포인트)
ai.predict.server.url=http://10.171.4.7:8000/predict

# MySQL Server 연결 추가
spring.datasource.url=jdbc:mysql://project-db-campus.smhrd.com:3307/campus_24IS_CLOUD3_p3_2?characterEncoding=utf8&serverTimezone=Asia/Seoul
spring.datasource.username=campus_24IS_CLOUD3_p3_2
spring.datasource.password=smhrd2
# spring.datasource.url=jdbc:mysql://localhost:3306/cloud3?characterEncoding=utf8&serverTimezone=Asia/Seoul
# spring.datasource.username=root
# spring.datasource.password=00000
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA 설정
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Google OAuth
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_OAUTH_CLIENT_ID:}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_OAUTH_CLIENT_SECRET:}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_OAUTH_REDIRECT_URI:{baseUrl}/login/oauth2/code/{registrationId}}
spring.security.oauth2.client.registration.google.client-name=Google
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub

app.oauth2.frontend-success-uri=${APP_OAUTH2_FRONTEND_SUCCESS_URI:http://localhost:5173/oauth/success}
app.oauth2.signup-uri=${APP_OAUTH2_SIGNUP_URI:http://localhost:5173/signup}
app.oauth2.frontend-failure-uri=${APP_OAUTH2_FRONTEND_FAILURE_URI:http://localhost:5173/login}

# AI 작물 진단 설정
diagnosis.python-command=python
# 모델은 클라우드 서버의 /app/ai/aiModel 경로에 저장되어 있음 (predict_crop.py에서 직접 로드)
diagnosis.model-directory=src/main/java/com/project/eum/aiModel
diagnosis.script-path=src/main/resources/scripts/predict_crop.py

# 파일 업로드 설정
# 업로드할 수 있는 파일의 최대 크기 (10MB)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# 이미지 파일을 저장할 폴더 경로
file.upload.directory=uploads/diary

# MySQL 데이터베이스 설정
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Naver Cloud Platform Object Storage 설정
cloud.ncp.object-storage.endpoint=https://kr.object.ncloudstorage.com
cloud.ncp.object-storage.region=kr-standard
cloud.ncp.object-storage.access-key=${NCP_OBJECT_STORAGE_ACCESS_KEY:}
cloud.ncp.object-storage.secret-key=${NCP_OBJECT_STORAGE_SECRET_KEY:}
cloud.ncp.object-storage.bucket-name=${NCP_OBJECT_STORAGE_BUCKET_NAME:eum-diagnosis}

# Kakao 지도 API
kakao.map.address-search-url=${KAKAO_MAP_ADDRESS_SEARCH_URL:https://dapi.kakao.com/v2/local/search/address.json}
kakao.map.rest-api-key=${KAKAO_MAP_REST_API_KEY:}
